{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","services/pixabayAPI.jsx","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","target","name","value","setState","toLowerCase","className","style","onSubmit","this","props","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","imgArr","onOpen","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","map","id","Button","Loader","color","height","width","timeout","position","top","left","Modal","modalImg","modalClose","useEffect","window","addEventListener","closeModalByESC","removeEventListener","e","key","console","log","Overlay","fetchImages","img","page","fetch","then","response","ok","json","Promise","reject","Error","App","searchImg","loading","currentPage","isModalOpen","handleSubmit","event","preventDefault","trim","alert","handleLoadeMore","hendelOpenModal","dataset","source","hendelCloseModal","prevProps","prevState","length","api","hits","scrollTo","document","documentElement","scrollHeight","behavior","catch","error","finally","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.37007028.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1929e\",\"Modal\":\"Modal_Modal__1M_qP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Ddnf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__28ufE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2vo0h\",\"SearchForm\":\"Searchbar_SearchForm__OFdSW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__saEHj\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__UrjGL\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3JWVT\"};","import { Component } from \"react\";\n\nimport style from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = { inputValue: \"\" };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n\n    this.setState({ [name]: value.toLowerCase() });\n  };\n\n  render() {\n    return (\n      <header className={style.Searchbar}>\n        <form onSubmit={this.props.onSubmit} className={style.SearchForm}>\n          <button type=\"submit\" className={style.SearchFormButton}>\n            <span className={style.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            name=\"inputValue\"\n            onChange={this.handleChange}\n            className={style.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import style from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ imgArr, onOpen }) {\n  const { webformatURL, tags, largeImageURL } = imgArr;\n  return (\n    <li className={style.ImageGalleryItem}>\n      <img\n        onClick={onOpen}\n        data-source={largeImageURL}\n        src={webformatURL}\n        alt={tags}\n        className={style.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import style from \"./ImageGallery.module.css\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem\";\n\nfunction ImageGallery({ imgArr, onOpen }) {\n  return (\n    <ul className={style.ImageGallery}>\n      {imgArr.map((imgArr) => (\n        <ImageGalleryItem key={imgArr.id} imgArr={imgArr} onOpen={onOpen} />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import style from \"./Button.module.css\";\n\nfunction Button({ onClick }) {\n  return (\n    <button onClick={onClick} className={style.Button}>\n      Load More\n    </button>\n  );\n}\n\nexport default Button;\n","import ReactLoaderSpinner from \"react-loader-spinner\";\n\nfunction Loader() {\n  return (\n    <ReactLoaderSpinner\n      type=\"Grid\"\n      color=\"#3f51b5\"\n      height={60}\n      width={60}\n      timeout={3000} //3 secs\n      style={{\n        position: \"fixed\",\n        top: \"50%\",\n        left: \"50%\",\n      }}\n    />\n  );\n}\n\nexport default Loader;\n","import { useEffect } from \"react\";\n\nimport style from \"./Modal.module.css\";\n\nfunction Modal({ modalImg, modalClose }) {\n  // componentDidMount() {\n  //   window.addEventListener(\"keydown\", this.closeModalByESC);\n  // }\n\n  // componentWillUnmount() {\n  //   window.removeEventListener(\"keydown\", this.closeModalByESC);\n  // }\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", closeModalByESC);\n\n    return () => {\n      window.removeEventListener(\"keydown\", closeModalByESC);\n    };\n  });\n\n  const closeModalByESC = (e) => {\n    if (e.key !== \"Escape\") {\n      return;\n    }\n    modalClose();\n    console.log(\"1\");\n  };\n\n  return (\n    <div onClick={modalClose} className={style.Overlay}>\n      <div className={style.Modal}>\n        <img src={modalImg} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","function fetchImages(img, page) {\n  const API_KEY = \"22998355-c21cb54d4c6e6a9c64822a6a0\";\n\n  return fetch(\n    `https://pixabay.com/api/?q=${img}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`Нет изображения ${img}`));\n  });\n}\n\nexport default fetchImages;\n","import { Component } from \"react\";\n\nimport \"./App.css\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\nimport api from \"./services/pixabayAPI\";\n\nclass App extends Component {\n  state = {\n    searchImg: \"\",\n    img: [],\n    loading: false,\n    currentPage: null,\n    modalImg: \"\",\n    isModalOpen: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.currentPage !== this.state.currentPage ||\n      !this.state.img.length\n    ) {\n      api(this.state.searchImg, this.state.currentPage)\n        .then((img) => {\n          this.setState((prevState) => {\n            return { img: [...prevState.img, ...img.hits] };\n          });\n          if (this.state.currentPage !== 1) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n          }\n        })\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { value } = event.target[1];\n\n    if (value.trim() === \"\") {\n      alert(\"Введите искомую картинку.\");\n      return;\n    }\n\n    this.setState({\n      searchImg: value.toLowerCase(),\n      loading: true,\n      currentPage: 1,\n      img: [],\n    });\n  };\n\n  handleLoadeMore = () => {\n    this.setState(({ currentPage }) => ({\n      currentPage: currentPage + 1,\n      loading: true,\n    }));\n  };\n\n  hendelOpenModal = (e) => {\n    this.setState({\n      isModalOpen: true,\n      modalImg: e.target.dataset.source,\n    });\n  };\n\n  hendelCloseModal = () => {\n    this.setState({ isModalOpen: false, modalImg: \"\" });\n  };\n\n  render() {\n    const { img, loading, currentPage, isModalOpen, modalImg } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSubmit} />\n\n        {img && <ImageGallery imgArr={img} onOpen={this.hendelOpenModal} />}\n        {isModalOpen && (\n          <Modal modalImg={modalImg} modalClose={this.hendelCloseModal} />\n        )}\n        {loading && <Loader />}\n        {currentPage && <Button onClick={this.handleLoadeMore} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2tE-y\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__zdUVK\"};"],"sourceRoot":""}