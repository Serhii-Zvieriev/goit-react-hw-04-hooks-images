{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","services/pixabayAPI.jsx","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","inputValue","setInputValue","className","style","SearchForm","type","SearchFormButton","SearchFormButtonLabel","name","value","onChange","target","toLowerCase","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","imgArr","onOpen","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","map","id","Button","Loader","color","height","width","timeout","position","top","left","Modal","modalImg","modalClose","useEffect","window","addEventListener","closeModalByESC","removeEventListener","e","key","Overlay","fetchImages","img","page","fetch","then","response","ok","json","Promise","reject","Error","App","searchImg","setSearchImg","setImg","loading","setLoading","currentPage","setCurrentPage","setModalImg","isModalOpen","setIsModalOpen","api","prevImgArr","hits","scrollTo","document","documentElement","scrollHeight","behavior","catch","error","console","log","finally","event","preventDefault","trim","alert","dataset","source","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.561520d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Ddnf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__28ufE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2vo0h\",\"SearchForm\":\"Searchbar_SearchForm__OFdSW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__saEHj\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__UrjGL\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3JWVT\"};","import { useState } from \"react\";\n\nimport style from \"./Searchbar.module.css\";\n\nfunction Searchbar({ onSubmit }) {\n  const [inputValue, setInputValue] = useState(\"\");\n\n  const handleChange = ({ target }) => {\n    setInputValue(target.value.toLowerCase());\n  };\n\n  return (\n    <header className={style.Searchbar}>\n      <form onSubmit={onSubmit} className={style.SearchForm}>\n        <button type=\"submit\" className={style.SearchFormButton}>\n          <span className={style.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          name=\"inputValue\"\n          value={inputValue}\n          onChange={handleChange}\n          className={style.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n","import style from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ imgArr, onOpen }) {\n  const { webformatURL, tags, largeImageURL } = imgArr;\n  return (\n    <li className={style.ImageGalleryItem}>\n      <img\n        onClick={onOpen}\n        data-source={largeImageURL}\n        src={webformatURL}\n        alt={tags}\n        className={style.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import style from \"./ImageGallery.module.css\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem\";\n\nfunction ImageGallery({ imgArr, onOpen }) {\n  return (\n    <ul className={style.ImageGallery}>\n      {imgArr.map((imgArr) => (\n        <ImageGalleryItem key={imgArr.id} imgArr={imgArr} onOpen={onOpen} />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import style from \"./Button.module.css\";\n\nfunction Button({ onClick }) {\n  return (\n    <button onClick={onClick} className={style.Button}>\n      Load More\n    </button>\n  );\n}\n\nexport default Button;\n","import ReactLoaderSpinner from \"react-loader-spinner\";\n\nfunction Loader() {\n  return (\n    <ReactLoaderSpinner\n      type=\"Grid\"\n      color=\"#3f51b5\"\n      height={60}\n      width={60}\n      timeout={3000} //3 secs\n      style={{\n        position: \"fixed\",\n        top: \"50%\",\n        left: \"50%\",\n      }}\n    />\n  );\n}\n\nexport default Loader;\n","import { useEffect } from \"react\";\n\nimport style from \"./Modal.module.css\";\n\nfunction Modal({ modalImg, modalClose }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", closeModalByESC);\n\n    return () => {\n      window.removeEventListener(\"keydown\", closeModalByESC);\n    };\n  });\n\n  const closeModalByESC = (e) => {\n    if (e.key !== \"Escape\") {\n      return;\n    }\n    modalClose();\n  };\n\n  return (\n    <div onClick={modalClose} className={style.Overlay}>\n      <div className={style.Modal}>\n        <img src={modalImg} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","function fetchImages(img, page) {\n  const API_KEY = \"22998355-c21cb54d4c6e6a9c64822a6a0\";\n\n  return fetch(\n    `https://pixabay.com/api/?q=${img}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`Нет изображения ${img}`));\n  });\n}\n\nexport default fetchImages;\n","import { useState, useEffect } from 'react';\n\nimport './App.css';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal';\nimport api from './services/pixabayAPI';\n\nfunction App() {\n  const [searchImg, setSearchImg] = useState('');\n  const [img, setImg] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState(null);\n  const [modalImg, setModalImg] = useState('');\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  useEffect(() => {\n    if (searchImg && currentPage) {\n      api(searchImg, currentPage)\n        .then(img => {\n          setImg(prevImgArr => [...prevImgArr, ...img.hits]);\n\n          if (currentPage !== 1) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n          }\n        })\n        .catch(error => console.log({ error }))\n        .finally(() => setLoading(false));\n    }\n  }, [currentPage, searchImg]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const { value } = event.target[1];\n\n    if (value.trim() === '') {\n      alert('Введите искомую картинку.');\n      return;\n    }\n\n    setSearchImg(value.toLowerCase());\n    setLoading(true);\n    setCurrentPage(1);\n    setImg([]);\n  };\n\n  const handleLoadeMore = () => {\n    setLoading(true);\n    setCurrentPage(prevPage => prevPage + 1);\n  };\n\n  const hendelOpenModal = e => {\n    setIsModalOpen(true);\n    setModalImg(e.target.dataset.source);\n  };\n\n  const hendelCloseModal = () => {\n    setIsModalOpen(false);\n    setModalImg('');\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={handleSubmit} />\n      {img && <ImageGallery imgArr={img} onOpen={hendelOpenModal} />}\n      {isModalOpen && (\n        <Modal modalImg={modalImg} modalClose={hendelCloseModal} />\n      )}\n      {loading && <Loader />}\n      {currentPage && <Button onClick={handleLoadeMore} />}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2tE-y\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__zdUVK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1929e\",\"Modal\":\"Modal_Modal__1M_qP\"};"],"sourceRoot":""}